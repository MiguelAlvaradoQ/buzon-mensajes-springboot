# ===========================================
# PERFIL DE DESARROLLO
# ===========================================
# Activar con: --spring.profiles.active=dev

# ============================================
# BASE DE DATOS H2 (EN MEMORIA)
# ============================================

# URL de conexion
# jdbc:h2:mem:buzon - Base de datos en memoria RAM
spring.datasource.url=jdbc:h2:mem:buzon

# Driver de H2
spring.datasource.driver-class-name=org.h2.Driver

# Usuario y contraseña (H2 por defecto)
spring.datasource.username=sa
spring.datasource.password=

# Dialecto especifico de H2
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect

# ============================================
# CONSOLA WEB DE H2
# ============================================

# Habilitar consola web para ver la BD
# Accesible en: http://localhost:8080/h2-console
spring.h2.console.enabled=true

# Ruta de la consola
spring.h2.console.path=/h2-console

# ============================================
# JPA / HIBERNATE - DESARROLLO
# ============================================

# Mostrar SQL en consola (para aprender)
spring.jpa.show-sql=true

# Formatear SQL (mas legible)
spring.jpa.properties.hibernate.format_sql=true

# Comentarios en SQL (explica que hace cada query)
spring.jpa.properties.hibernate.use_sql_comments=true

# ============================================
# LOGGING - DESARROLLO
# ============================================

# Nivel DEBUG para tu paquete (ver todo)
logging.level.com.miguel.buzon_mensajes=DEBUG

# Ver queries con parametros
logging.level.org.hibernate.SQL=DEBUG

# Ver valores de los parametros
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Ver logs de seguridad
logging.level.org.springframework.security=DEBUG

# ============================================
# DEVTOOLS
# ============================================

# Hot reload habilitado
spring.devtools.restart.enabled=true

# Excluir archivos que no necesitan restart
spring.devtools.restart.exclude=static/**,public/**

# LiveReload habilitado (refresca navegador)
spring.devtools.livereload.enabled=true

# ============================================
# ERRORES - DESARROLLO
# ============================================

# Mostrar stacktrace en dev (para debuggear)
server.error.include-stacktrace=always

# Incluir mensaje de excepcion
server.error.include-exception=true

# ============================================
# SEGURIDAD - DESARROLLO
# ============================================

# Datos del usuario admin (solo para referencia)
# Usuario: admin
# Contraseña: admin123